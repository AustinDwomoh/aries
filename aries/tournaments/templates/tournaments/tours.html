{% extends "base.html" %}
{% block title %}
Tournaments
{% endblock title %}
{% block content %}
<style>
    /* Optional: Smooth transition for content change */
    .content-section {
        display: none;
        transition: opacity 0.5s ease-in-out;
    }

    .active-content {
        display: block;
        opacity: 1;
    }
</style>
Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere, quis deserunt! Quisquam voluptatibus obcaecati earum, harum quasi ea cum culpa sequi sunt totam eveniet illum aperiam dolores explicabo enim iure.
<nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <ul class="list-inline d-flex justify-content-center w-100">
            <li class="list-inline-item mx-2">
                <a class="nav-link mini-nav active" href="#" data-target="#section1">Clan</a>
            </li>
            <li class="list-inline-item mx-2">
                <a class="nav-link mini-nav" href="#" data-target="#section2">Individuals</a>
            </li>
        </ul>
    </div>
</nav>

<!-- Content Sections -->
<div id="section1" class="content-section active-content" style="height: 100vh;">
    <div class="container-fluid my-4">
        <h2 class="text-center">Clan Tournaments</h2>
        <div class="row">
            {% for tours in cvc_tournaments %}
            <div class="col-md-4">
                <!-- Player Card -->
                <div class="card my-3">
                    <div class="card-body text-center" >
                        <div class="card-body text-center"  style="background-image: url('{{ tours.created_by.profile.profile_picture.url  }}');background-size: cover; background-position: center;text-shadow: 2px 2px 4px rgba(0, 0, 0,1);color:white">
                            <img src="{{  tours.logo.url }}" alt="{{  tours.name }}'s avatar" class="img-fluid rounded-circle mb-3" style="width: 100px; height: 100px;">
                        <!-- Player Name -->
                        <h5 class="card-title">{{ tours.name }}</h5>
                        <p>{{ tours.start_date }}|{{ tours.end_date }} </p>
                        <p class="card-text">
                            <div class="d-flex justify-content-between text-center ">
                                <div class="mx-2">
                                  <p class="mb-1 h6 text-primary">{{ player.profile.clan.win_rate }}</p>
                                  <p class="small  mb-0">Win Rate</p>
                                </div>
                                <div class="mx-2">
                                  <p class="mb-1 h6 text-success">{{tours.created_by }}</p>
                                  <p class="small  mb-0">Creator</p>
                                </div>
                                <div class="mx-2">
                                  <p class="mb-1 h6 text-warning">{{ tours.teams.count }}</p>
                                  <p class="small  mb-0">Clans</p>
                            </div>
                        </div>
                        </p>
                    </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<div id="section2" class="content-section" style="height: 100vh;">
    <div class="container-fluid my-4">
        <h2 class="text-center">Individual Tournaments</h2>
        <div class="row">
            {% for tours in indi_tournaments %}
            <div class="col-md-4">
                <!-- Player Card -->
                <div class="card my-3">
                    <div class="card-body text-center"  style="background-image: url('{{ tours.created_by.profile.profile_picture.url }}');background-size: cover; background-position: center;text-shadow: 2px 2px 4px rgba(0, 0, 0, 1);color:white"  >
                        <img src="{{  tours.logo.url }}" alt="{{  tours.name }}'s avatar" class="img-fluid rounded-circle mb-3" style="width: 100px; height: 100px;">
                        <h5 class="card-title">{{ tours.name }}</h5>
                        <p>{{ tours.start_date }}|{{ tours.end_date }} </p>
                        <p class="card-text">
                            <div class="d-flex justify-content-between text-center ">
                                <div class="mx-2">
                                  <p class="mb-1 h6 text-primary">{{ player.profile.clan.win_rate }}</p>
                                  <p class="small  mb-0">Win Rate</p>
                                </div>
                                <div class="mx-2">
                                  <p class="mb-1 h6 text-success">{{tours.created_by }}</p>
                                  <p class="small  mb-0">Host</p>
                                </div>
                                <div class="mx-2">
                                  <p class="mb-1 h6 text-warning">{{ tours.players.count }}</p>
                                  <p class="small  mb-0">Clans</p>
                            </div>
                        </div>
                        </p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<script>
    // JavaScript to handle active link switching and content change
    const navLinks = document.querySelectorAll('.mini-nav');
    const contentSections = document.querySelectorAll('.content-section');

    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault(); 
            navLinks.forEach(item => item.classList.remove('active'));

        
            link.classList.add('active');
            const target = link.getAttribute('data-target');

            // Hide all sections
            contentSections.forEach(section => section.classList.remove('active-content'));

            // Show the selected section
            const targetSection = document.querySelector(target);
            targetSection.classList.add('active-content');
        });
    });
</script>
{% endblock content %}